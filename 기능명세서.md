# YouTube 교육 컨트롤러 앱 기능명세서

## 1. 프로젝트 개요

### 1.1 프로젝트명
YouTube 교육 컨트롤러 (YouTube Edu Controller)

### 1.2 프로젝트 목적
아동 및 청소년의 YouTube 시청을 교육적으로 관리하고, 학습과 엔터테인먼트의 균형을 맞추는 스마트 컨트롤 앱

### 1.3 타겟 사용자
- **주 사용자**: 초등학생, 중학생, 고등학생 (7-18세)
- **보조 사용자**: 부모/보호자, 교사

### 1.4 지원 플랫폼
- Android (최소 버전: Android 7.0 Nougat, API Level 24)
- iOS (최소 버전: iOS 12.0)

### 1.5 플랫폼별 구현 전략
- **통합 접근**: 두 플랫폼 모두 자체 플레이어 사용으로 일관된 UX 제공
- **크로스플랫폼 프레임워크**: Flutter 또는 React Native 활용

## 2. 핵심 기능 요구사항

### 2.1 자체 플레이어 기반 재생 시스템

#### 2.1.1 YouTube 콘텐츠 접근 방식

##### Android
- **YouTube 링크 인터셉트**:
  - YouTube 링크 클릭 시 "다음으로 열기" 선택 창에 앱 표시
  - 사용자가 선택 시 앱 내 자체 플레이어로 재생
  - 기본 앱으로 설정 가능
- **앱 바로가기**: 홈 화면 위젯 또는 바로가기로 직접 실행

##### iOS
- **앱 내 통합 플레이어**:
  - YouTube IFrame API 또는 웹뷰 활용
  - 앱 내에서 검색, 재생, 제어 완전 통합
  - App Store 정책 완벽 준수

#### 2.1.2 타이머 기반 학습 인터럽트
- **기능 설명**: 동영상 재생 중 설정된 시간 간격으로 자동 일시정지
- **세부 사항**:
  - 기본 간격: 15분 (5분~60분 범위에서 조정 가능)
  - 일시정지 시 전체 화면으로 문제 출제 화면 전환
  - 백그라운드 재생 시에도 동작
  - 자체 플레이어로 정확한 타이밍 제어

#### 2.1.2 AI 기반 맞춤형 퀴즈 출제
- **기능 설명**: 사용자의 연령과 학습 수준에 맞는 퀴즈 자동 생성
- **세부 사항**:
  - 연령대별 난이도 조정 (초등/중등/고등)
  - 과목 선택: 국어, 영어, 수학, 과학, 사회, 역사
  - 문제 유형: 객관식
  - AI 모델 활용: GPT API

#### 2.1.3 퀴즈 풀이 및 검증
- **기능 설명**: 정답 확인 후 동영상 재생 재개
- **세부 사항**:
  - 정답 시: 즉시 재생 재개
  - 오답 시: 힌트 제공 → 재시도 (최대 3회)
  - 3회 오답 시: 해설 표시 후 재생 재개

### 2.2 YouTube 계정 연동

#### 2.2.1 YouTube 로그인 기능
- **기능 설명**: YouTube 계정으로 로그인하여 개인화된 콘텐츠 이용
- **세부 사항**:
  - YouTube OAuth 2.0 인증
  - Google 계정 연동
  - 안전한 토큰 관리 및 갱신
  - 로그아웃 및 계정 연결 해제

#### 2.2.2 YouTube 알고리즘 활용
- **기능 설명**: 사용자의 YouTube 데이터를 활용한 맞춤형 콘텐츠 제공
- **세부 사항**:
  - **구독 채널 목록**: 구독 중인 채널의 최신 동영상
  - **재생목록 가져오기**: 사용자가 만든 재생목록 표시
  - **좋아요 표시한 동영상**: 좋아요 목록 조회
  - **추천 동영상**: YouTube 알고리즘 기반 추천 영상
  - **시청 기록 동기화**: YouTube 시청 기록 가져오기 (선택사항)
  - **나중에 볼 동영상**: Watch Later 재생목록 연동

#### 2.2.3 교육적 필터링과 알고리즘의 조화
- **기능 설명**: YouTube 알고리즘과 교육 필터를 결합
- **세부 사항**:
  - 알고리즘 추천 영상에 교육 필터 적용
  - 구독 채널 중 교육 채널 우선 노출
  - 부모/교사 승인 후 추천 영상 표시 옵션
  - 시청 패턴 분석 후 교육적 콘텐츠 비율 조정

### 2.3 사용자 프로필 관리

#### 2.3.1 프로필 생성 및 설정
- **기능 설명**: 개인별 학습 프로필 생성
- **세부 사항**:
  - 이름, 생년월일, 학년 입력
  - 선호 과목 및 취약 과목 설정
  - 프로필 사진 및 아바타 선택
  - YouTube 계정 연동 상태 표시

#### 2.3.2 학습 수준 설정
- **기능 설명**: 초기 레벨 테스트 및 난이도 조정
- **세부 사항**:
  - 초기 진단평가 (선택사항)
  - 자동 난이도 조정 알고리즘
  - 수동 난이도 변경 가능

## 3. 부가 기능 요구사항 (Phase 2)

### 3.1 콘텐츠 필터링
- **검색 제한**: 연령 부적합 키워드 차단
- **채널 블랙리스트/화이트리스트**: 특정 채널 차단/허용
- **카테고리 필터**: 교육, 게임, 음악 등 카테고리별 제한

### 3.2 알고리즘 제한
- **추천 동영상 필터링**: 교육 콘텐츠 우선 노출
- **자동재생 관리**: 교육 콘텐츠만 자동재생 허용
- **시청 기록 기반 추천 제한**: 과도한 엔터테인먼트 콘텐츠 제한

### 3.3 원격 관리 (부모/교사 모드)
- **원격 설정**: 다른 기기에서 학습 설정 변경
- **실시간 모니터링**: 시청 중인 콘텐츠 확인
- **학습 리포트**: 일일/주간/월간 학습 통계

## 4. 기술 요구사항

### 4.1 프론트엔드
- **권장 아키텍처**: Flutter 또는 React Native (크로스플랫폼)
  - **Flutter 선택 시**:
    - Dart 언어 사용
    - 고성능 네이티브 컴파일
    - YouTube Player 플러그인 활용
  - **React Native 선택 시**:
    - JavaScript/TypeScript 사용
    - react-native-youtube-iframe 라이브러리
    - 웹 개발자 친화적
- **네이티브 개발 시**:
  - **Android**: Kotlin, Jetpack Compose
  - **iOS**: Swift, SwiftUI

### 4.2 백엔드
- **서버**: Node.js + Express 또는 Python + FastAPI
- **데이터베이스**: PostgreSQL (사용자 정보), Redis (세션 관리)
- **AI 서비스**: OpenAI API 또는 자체 ML 모델

### 4.3 API 연동
- **YouTube Data API v3**: 동영상 검색, 메타데이터 조회
- **YouTube OAuth 2.0**: 사용자 YouTube 계정 로그인 및 인증
- **자체 플레이어 구현**:
  - Android: ExoPlayer 또는 YouTube Android Player API
  - iOS: AVPlayer 또는 YouTube IFrame Player API
  - 크로스플랫폼: 플랫폼별 플러그인 활용
- **AI API**: 문제 생성 및 평가 (OpenAI API 또는 자체 모델)

### 4.4 보안
- **사용자 인증**: OAuth 2.0
- **데이터 암호화**: AES-256
- **아동 개인정보 보호**: COPPA, GDPR-K 준수

## 5. UI/UX 요구사항

### 5.1 디자인 원칙
- **간결한 인터페이스**: YouTube 앱과 유사한 친숙한 UI
- **직관적 네비게이션**: 홈, 탐색, 보관함 3개 탭
- **색상 구성**: 깔끔하고 현대적인 색상 팔레트

### 5.2 주요 화면
1. **온보딩 화면**: 앱 소개 및 Google 로그인
2. **메인 홈**:
   - 앱 내 YouTube 검색 바
   - **구독 채널 최신 동영상** (YouTube 연동 시)
   - **추천 영상** (YouTube 알고리즘)
   - 최근 시청 목록
3. **탐색 (검색)**:
   - YouTube 영상 검색
   - 검색 결과 표시
4. **보관함**:
   - 시청 기록
   - 재생목록
   - 나중에 볼 동영상
5. **동영상 재생**:
   - 자체 커스텀 플레이어
   - 학습 타이머 표시
   - 재생 컨트롤 (재생/일시정지, 진행바, 음량)
6. **퀴즈 풀이**:
   - 전체 화면 인터페이스
   - 남은 시도 횟수 표시
   - 힌트 버튼
7. **프로필/설정**:
   - 사용자 정보
   - YouTube 계정 연동 관리
   - 퀴즈 출제 간격 조정
   - 난이도 설정

### 5.3 반응형 디자인
- **태블릿 지원**: 7인치~12.9인치
- **가로/세로 모드**: 자동 회전 지원
- **다크 모드**: 시스템 설정 연동

## 6. 성능 요구사항

### 6.1 응답 시간
- **앱 구동**: 3초 이내
- **문제 로딩**: 2초 이내
- **동영상 전환**: 1초 이내

### 6.2 안정성
- **크래시율**: 0.1% 미만
- **가용성**: 99.5% 이상

### 6.3 배터리 최적화
- **백그라운드 작업 최소화**
- **효율적인 네트워크 사용**

## 7. 데이터 모델

### 7.1 사용자 (User)
```
{
  id: UUID,
  username: String,
  email: String,
  birthDate: Date,
  grade: Integer,
  preferredSubjects: Array,
  currentLevel: Integer,
  youtubeConnected: Boolean,
  youtubeAccessToken: String (encrypted),
  youtubeRefreshToken: String (encrypted),
  youtubeTokenExpiry: Timestamp,
  createdAt: Timestamp,
  updatedAt: Timestamp
}
```

### 7.2 시청 세션 (WatchSession)
```
{
  id: UUID,
  userId: UUID,
  videoId: String,
  videoTitle: String,
  channelTitle: String,
  thumbnailUrl: String,
  startTime: Timestamp,
  lastPosition: Integer,
  quizzesAnswered: Integer,
  correctAnswers: Integer
}
```

### 7.3 퀴즈 (Quiz)
```
{
  id: UUID,
  subject: String,
  grade: Integer,
  difficulty: Integer,
  questionText: String,
  options: Array,
  correctAnswer: String,
  explanation: String,
  hint: String
}
```

## 8. 개발 일정

### Phase 1: 핵심 기능 (2개월)
- **1개월차**: 기본 UI/UX, YouTube API 연동, YouTube OAuth 구현
- **2개월차**: 타이머 시스템, AI 퀴즈 생성, 퀴즈 화면 구현

### Phase 2: 안정화 및 개선 (1개월)
- **3개월차**: 사용자 프로필, 설정 화면, 테스트 및 버그 수정

### Phase 3: 출시 준비 (1개월)
- **4개월차**: 성능 최적화, 마켓 등록, 초기 사용자 테스트

## 9. 테스트 계획

### 9.1 단위 테스트
- 각 모듈별 테스트 커버리지 80% 이상

### 9.2 통합 테스트
- API 연동 테스트
- 사용자 시나리오 테스트

### 9.3 사용자 테스트
- 알파 테스트: 내부 팀 (2주)
- 베타 테스트: 선정된 사용자 그룹 (4주)

## 10. 유지보수 및 업데이트

### 10.1 정기 업데이트
- 월 1회 정기 업데이트
- 분기별 메이저 기능 추가

### 10.2 지원
- 인앱 고객지원 채팅
- FAQ 및 사용 가이드
- 이메일 지원

## 11. 수익 모델

### 11.1 무료 서비스
- **현재 계획**: 완전 무료로 제공
- **향후 계획**: 사용자 피드백 기반 프리미엄 기능 검토

## 12. 리스크 및 대응 방안

### 12.1 기술적 리스크
- **YouTube API 제한**: 캐싱 전략, 효율적 API 호출
- **AI 비용**: 자체 모델 개발, 캐싱된 문제 활용
- **플랫폼 정책 변경**: YouTube ToS 모니터링, 대체 비디오 소스 준비

### 12.2 규제 리스크
- **아동 개인정보**: 최소 정보 수집, 암호화 저장
- **교육 콘텐츠 저작권**: 자체 문제 개발, 라이선스 확보
- **앱스토어 심사**: 가이드라인 철저 준수, 자체 플레이어 사용 명시

### 12.3 시장 리스크
- **경쟁 앱 출시**: 차별화된 AI 퀴즈 기능, 빠른 업데이트
- **사용자 이탈**: 지속적인 UX 개선, 사용자 피드백 반영

## 13. 플랫폼별 주요 구현 차이점

### 13.1 Android 특화 기능
- **Intent Filter 설정**: YouTube URL 스킴 처리
- **기본 앱 설정**: 사용자가 YouTube 링크 기본 앱으로 설정 가능
- **백그라운드 서비스**: 학습 타이머 백그라운드 동작

### 13.2 iOS 특화 기능
- **앱 내 완전 통합**: 모든 기능이 앱 내에서 동작
- **스크린타임 연동**: 부모 통제 기능 강화
- **위젯**: 홈 화면 학습 현황 위젯

### 13.3 공통 기능
- **자체 플레이어**: 양 플랫폼 동일한 재생 경험
- **학습 시스템**: 동일한 문제 출제 및 검증 로직
- **클라우드 동기화**: 학습 진도 실시간 동기화